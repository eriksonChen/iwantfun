<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>iwantfun 萬芳智慧生活圈</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC:100,300,400,500,700,900" rel="stylesheet"/>
<link rel="shortcut icon" href="../assets/images/favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="192x192" href="../assets/images/favicon/favicon-192.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../assets/images/favicon/favicon-192.png">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="assets/images/favicon/favicon-192.png">
<!-- Stylesheet -->
<link rel="stylesheet" href="../assets/css/bootstrap.min.css">
<link rel="stylesheet" href="../assets/css/animate.min.css">
<link rel="stylesheet" href="../assets/icons/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="../assets/icons/lineawesome/css/line-awesome.min.css">
<link rel="stylesheet" href="../assets/vendors/slotmachine/jquery.slotmachine.css">
<link rel="stylesheet" href="../assets/css/style.css">
<style>
  .randomizeMachine{
    overflow: hidden;
  }
  .randomizeMachine img{
    width: 100px;
    height: 100px;

  }
  @media (max-width: 414px){
    .randomizeMachine img {
      width: 60px;
      height: 60px;
    }
  }
</style>
</head>
<body class="body-gradient">
<nav class="navbar navbar-expand-xl navbar-light fixed-top"> <a class="navbar-brand mr-4" href="../index.html"><img src="../assets/images/logo.svg" class="d-inline-block align-middle" alt=""/></a>
  <div class="nav-right d-flex flex-row order-2 order-xl-3">
    <ul class="navbar-nav d-flex flex-row align-items-center">
      <li class="nav-item"> <a href="#off-canvas" class="nav-link open-sidebar-s"><i class="las la-search mr-1"></i></a> </li>
      <li class="nav-item"> <a href="../cart/index.html" class="nav-link"><i class="las la-shopping-cart mr-1"></i><span class="badge bg-red">6</span></a> </li>
      <li class="nav-item"> <a class="nav-link open-sidebar-u" href="#off-canvas"><i class="las la-user-circle mr-1"></i></a> </li>
    </ul>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"><i class="fa fa-bars"></i></span> </button>
  </div>
  <!-- end nav-right -->
  
  <div class="nav-main collapse navbar-collapse order-3 order-md-2" id="navbarContent">
    <ul class="navbar-nav d-lg-flex flex-lg-row text-left ml-1 mr-auto">
      <li class="nav-item active mr-3"> <a class="nav-link" href="index.html"><i class="las la-home mr-1"></i>萬芳智慧生活圈</a> </li>
      <li class="nav-item dropdown mr-3">
        <a class="nav-link dropdown-toggle" href="javascript:;" id="foodDropdown" role="button" data-toggle="dropdown" aria-haspopup="fasle" class="dropdown-toggle">
          <i class="las la-cheese mr-1"></i>好美味
        </a>
        
        <div class="dropdown-menu" aria-labelledby="foodDropdown">
          <a class="dropdown-item" href="/shop/index.html">好美味首頁</a>
          <a class="dropdown-item" href="javascript:;">協會專區</a>
          <a class="dropdown-item" href="javascript:;">中日式料理</a>
          <a class="dropdown-item" href="javascript:;">西式及南洋料理</a>
          <a class="dropdown-item" href="javascript:;">點心宵夜及飲品</a>
        </div>
      </li>
      <li class="nav-item mr-3"> <a class="nav-link" href="shop/index.html"><i class="las la-store-alt mr-1"></i>好商圈</a> </li>
      <li class="nav-item dropdown mr-3">
        <a class="nav-link dropdown-toggle" href="javascript:;" id="neighborhoodDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="las la-user-friends mr-1"></i>好社區</a>
        </a>
        <div class="dropdown-menu" aria-labelledby="neighborhoodDropdown">
          <a class="dropdown-item" href="/neighborhood/activity.html">里民通報</a>
          <a class="dropdown-item" href="/neighborhood/rent.html">租屋資訊</a>
          <a class="dropdown-item" href="/neighborhood/traffic.html">交通資訊</a>
          <a class="dropdown-item" href="javascript:;">好上進</a>
          <a class="dropdown-item" href="javascript:;">好安全</a>
          <a class="dropdown-item" href="javascript:;">志工組織</a>
        </div>
      </li>
      <li class="nav-item dropdown mr-3">
        <a class="nav-link dropdown-toggle" href="health/index.html" id="healthDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="las la-heartbeat mr-1"></i>好健康</a> 
        </a>
        <div class="dropdown-menu" aria-labelledby="healthDropdown">
          <a class="dropdown-item" href="health/wanfang-hospital.html">萬芳醫院專區</a>
          <a class="dropdown-item" href="javascript:;">文山運動中心</a>
          <a class="dropdown-item" href="health/health.html">健康園地</a>
          <a class="dropdown-item" href="health/long-term-care.html">社區長照</a>
        </div>
      </li>
      <li class="nav-item dropdown mr-3">
        <a class="nav-link dropdown-toggle" href="user/index.html" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="las la-user-circle mr-1"></i>會員專區</a> 
        </a>
        <div class="dropdown-menu" aria-labelledby="userDropdown">
          <a class="dropdown-item" href="user/index.html">帳戶總覧</a>
          <a class="dropdown-item" href="user/account.html">會員資訊</a>
          <a class="dropdown-item" href="user/coupon-list.html">優惠卷查詢</a>
          <a class="dropdown-item" href="user/notification.html">推播訊息</a>
          <a class="dropdown-item" href="user/purchase.html">好美味訂購紀錄</a>
        </div>
      </li>
    </ul>
    <!-- end nav-main --> 
  </div>
</nav>
<div class="container text-center">
  <h3 class="mb-4">完成交易拉霸機抽獎</h3>
  
  <div class="col-lg-8 mx-auto">
    
    <!-- Slot machine -->
    <div class="card card-body bg-gradient-07 p-3 shadow mb-3">
		<p class="tfs-13 text-white text-shadow mb-0 mt-3">凡於萬芳智慧生活圈2.0完成訂單，即可抽拉霸機，有機會獲得50~200元不等折價券</p>
      <div id="randomize" class="shadow">
        <div class="row no-gutters">
          <div class="col-4">
            <div id="machine1" class="randomizeMachine">
              <div>
                <img src="../assets/images/slotmachine/slot1.png"/>
              </div>
              <div>
                <img src="../assets/images/slotmachine/slot2.png"/>
              </div>
              <div>
                <img src="../assets/images/slotmachine/slot3.png"/>
              </div>
            </div>
          </div>
          <div class="col-4">
            <div id="machine2" class="randomizeMachine">
              <div>
                <img src="../assets/images/slotmachine/slot1.png"/>
              </div>
              <div>
                <img src="../assets/images/slotmachine/slot2.png"/>
              </div>
              <div>
                <img src="../assets/images/slotmachine/slot3.png"/>
              </div>
            </div>
          </div>
          <div class="col-4">
            <div id="machine3" class="randomizeMachine">
              <div>
                <img src="../assets/images/slotmachine/slot1.png"/>
              </div>
              <div>
                <img src="../assets/images/slotmachine/slot2.png"/>
              </div>
              <div>
                <img src="../assets/images/slotmachine/slot3.png"/>
              </div>
            </div>
          </div>
        </div>
        <!-- end row -->
      </div>
      <!-- end randomize -->
      <div class="mt-4 mb-4">
        <button id="randomizeButton" type="button" class="btn btn-dark btn-lg shadow">試試手氣</button>
      </div>
    </div>
    <!-- end card Slot machine -->
    
    <div class="card card-body text-left tfs-13 bg-danger mb-5">
      <p class="tfs-15 mb-0">拉霸機規則說明</p>
      <hr>
      <p>日期 : 2022/02/28 10:20 - 2022/4/30 12:00 <br>
        遊玩次數 : xxx次 / 天 or 不限次數
        遊戲規則 : 
      </p>
      <div class="media">
        <img src="../assets/images/slotmachine/slot1.png" class="mr-2" width="48" height="48"/>
        <div class="media-body">
          <p class="mb-0">轉到3個萬芳智慧生活圈 Logo </p>
          <p class="mb-0">可獲得<strong>(獎項名稱)</strong></p>
        </div>
      </div>
      <!-- end media -->
      <hr>
      <div class="media">
        <img src="../assets/images/slotmachine/slot2.png" class="mr-2" width="48" height="48"/>
        <div class="media-body">
          <p class="mb-0">轉到3個萬芳智慧生活圈 圓形Logo</p>
          <p class="mb-0">可獲得<strong>(獎項名稱)</strong></p>
        </div>
      </div>
      <!-- end media -->
      <hr>
      <div class="media">
        <img src="../assets/images/slotmachine/slot3.png" class="mr-2" width="48" height="48"/>
        <div class="media-body">
          <p class="mb-0">轉到3個中國科技大學 管理學員 Logo </p>
          <p class="mb-0">可獲得<strong>(獎項名稱)</strong></p>
        </div>
      </div>
      <!-- end media -->
		
    </div>
    <!-- end card -->
    
  </div>
</div>
<!-- end container -->

<footer class="footer footer-alt">
  <div class="container my-auto">
    <div class="row col-lg-7 mx-auto mb-3 justify-content-center tfs-13 fw-500">
      <div class="col-auto">
        <a href="https://www.facebook.com/icutewf" target="_blank"><i class="lab la-facebook mr-1"></i>Facebook</a>
      </div>
      <div class="col-auto">
        <a href="https://www.instagram.com/cuteusr/" target="_blank"><i class="lab la-instagram mr-1"></i>Instagram</a>
      </div>
      <div class="col-auto">
        <a href="../news/index.html"><i class="las la-bullhorn mr-1"></i>最新消息</a>
      </div>
      <div class="col-auto">
        <a href="../contact/index.html"><i class="las la-comment mr-1"></i>聯絡我們</a>
      </div>
      <div class="col-auto">
        <a href="../member/signin-b.html"><i class="las la-store mr-1"></i>商家管理</a>
      </div>
    </div>
    <div class="copyright text-center my-auto">
      <p class="mb-1"><a href="../privacy/index.html">隱私權政策</a> 與 <a href="../privacy/index.html">使⽤者條款</a></p>
      <p class="m-0">&copy; 2021 iwantfun. All rights reserved.</p>
    </div>
  </div>
</footer>
<!-- end footer --> 

<!-- go top --> 
<a href="#" class="go-top"><i class="la la-arrow-up"></i></a> 
<!-- end go top --> 

<!-- offcanvas sidebar user -->
<div class="off-sidebar user from-right">
  <div class="off-sidebar-container">
    <div class="off-sidebar-content tfs-13 offcanvas-scroll auto-scroll">
      <a href="#off-canvas" class="off-sidebar-close"></a>
      <div class="sidebar-heading text-center">
        <i class="las la-user-circle mr-2"></i>User Name
      </div>
      <div>
        <a href="../user/index.html"><i class="las la-user-circle mr-2"></i>帳戶總覽</a>
      </div>
      <hr>
      <div>
        <a href="../user/account.html"><i class="las la-id-card mr-2"></i>會員資訊</a>
      </div>
      <hr>
      <div>
        <a href="../user/purchase.html"><i class="las la-shopping-bag mr-2"></i>訂購紀錄</a>
      </div>
      <hr>
      <div>
        <a href="../user/coupon-list.html"><i class="las la-ticket-alt mr-2"></i>優惠券</a>
      </div>
      <hr>
      <div>
        <a href="../user/receiver.html"><i class="las la-box mr-2"></i>常用取貨人</a>
      </div>
      <hr>
      <div>
        <a href="../user/favorite.html"><i class="las la-kiss-wink-heart mr-2"></i>我的收藏</a>
      </div>
      <hr>
      <div>
        <a href="../user/notification.html"><i class="las la-bell mr-2"></i>推播訊息</a>
      </div>
      <hr>
      <div>
        <a href="../user/change-password.html"><i class="las la-lock mr-2"></i>更改密碼</a>
      </div>
      <hr>
      <div>
        <a href="../index.html"><i class="las la-sign-out-alt mr-2"></i>登出</a>
      </div>
    </div>
  </div>
</div>
<!-- end offcanvas sidebar user --> 

<!-- offcanvas sidebar search -->
<div class="off-sidebar search from-right">
  <div class="off-sidebar-container">
    <div class="off-sidebar-content offcanvas-scroll auto-scroll">
      <a href="#off-canvas" class="off-sidebar-close"></a>
      <div class="sidebar-heading text-center">
        <i class="las la-search"></i>
      </div>
      <div class="form-group mb-1">
        <select class="form-control form-control-sm">
          <option>商品</option>
          <option>商店</option>
          <option>文章</option>
        </select>
      </div>
      <div class="form-group">
        <input type="search" class="form-control form-control-sm" placeholder="關鍵字">
      </div>
      <a href="../search-results.html" class="btn btn-info btn-square btn-block btn-sm shadow">搜尋</a>
      <hr>
      <p class="mb-2 tfs-13">熱門搜尋：</p>
      <div class="tags">
        <ul class="nav">
          <li class="nav-item m-1"> <a href="../search-results.html" class="btn btn-outline-dark btn-sm btn-block">珍珠奶茶 </a> </li>
          <li class="nav-item m-1"> <a href="../search-results.html" class="btn btn-outline-dark btn-sm btn-block">牛排</a> </li>
          <li class="nav-item m-1"> <a href="../search-results.html" class="btn btn-outline-dark btn-sm btn-block">牛肉番茄蛋炒飯</a> </li>
          <li class="nav-item m-1"> <a href="../search-results.html" class="btn btn-outline-dark btn-sm btn-block">多多綠</a> </li>
          <li class="nav-item m-1"> <a href="../search-results.html" class="btn btn-outline-dark btn-sm btn-block">超香鹽酥雞</a> </li>
          <li class="nav-item m-1"> <a href="../search-results.html" class="btn btn-outline-dark btn-sm btn-block">綠草原餐廳</a> </li>
          <li class="nav-item m-1"> <a href="../search-results.html" class="btn btn-outline-dark btn-sm btn-block">美式速食</a> </li>
        </ul>
      </div>
    </div>
  </div>
</div>
<!-- end offcanvas sidebar search --> 

<!-- Modal prize 有中獎領取優惠卷-->
<div class="modal fade" id="Modal-prize" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content text-center bg-gradient-08">
      <div class="modal-body text-white p-4">
        <h4 class="mb-3 text-shadow">恭喜您中獎！</h4>
        <div class="border rounded p-2 bg-white text-primary shadow mb-3">
          <p>
            獎項名稱: (拉霸機-xx元優惠券) <br>
            抽獎時間: 2022-03-01 17:00 <br>
            領獎狀態: 已領取優惠券
          </p>
          
        </div>
        <p class="tfs-13 mb-4">可於會員中心"優惠券"查看</p>
        <div class="m-0">
          <button type="button" class="btn btn-outline-dark shadow">查看中獎記錄</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- end modal-prize --> 

<!-- Modal prize 有中獎但要填寫資料領取實體獎項 -->
<div class="modal fade" id="Modal-prize-info" tabindex="-1" data-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content bg-gradient-08">
      <div class="modal-body text-center text-white p-4">
        <h4 class="mb-3 text-shadow">恭喜您中獎！</h4>
        <div class="border rounded p-2 bg-white text-primary shadow mb-3">
          <p>
            獎項名稱: (拉霸機-獎項名稱) <br>
            抽獎時間: 2022-03-01 17:00 <br>
            領獎狀態: 尚未領取
          </p>
          <hr>
          <div class="text-left">
            <div class="form-group">
              <label for="">姓名*：</label>
              <input type="text" class="form-control">
            </div>
            <div class="form-group">
              <label for="">聯絡電話*：</label>
              <input type="text" class="form-control">
            </div>
            <div class="form-group">
              <label for="">聯絡地址*：</label>
              <input type="text" class="form-control">
            </div>
          </div>
          
          
        </div>
        <div class="m-0 flex">
          <button type="button" class="btn btn-light shadow mr-3" data-dismiss="modal">取消</button>
          <button type="button" class="btn btn-dark shadow">送出</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- end modal-prize --> 

<!-- Modal prize 沒有中奬 -->
<div class="modal fade" id="Modal-prize-0" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content text-center">
      <div class="modal-body p-4">
        <h4 class="mb-3 text-shadow">真是可惜！</h4>
        <div class="border rounded p-2 bg-white shadow text-violet mb-3">
          未獲得優惠券，請再接再厲，下次運氣肯定更好！
        </div>
        <div class="m-0">
          <button type="button" class="btn btn-outline-dark shadow" data-dismiss="modal">知道了</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- end modal-prize-0 --> 

<!-- javascript --> 
<script src="../assets/js/jquery-3.5.1.min.js"></script> 
<script src="../assets/js/bootstrap.bundle.min.js"></script> 
<script src="../assets/vendors/nicescroll/nicescroll.min.js"></script> 
<script src="../assets/vendors/slotmachine/slotmachine.js"></script> 
<script src="../assets/js/main.js"></script> 

<script>
  // 獎項由後端給值。
  // prize = 0; (50 元優惠券) 
  // prize = 1; (100 元優惠券) 
  // prize = 2; (200 元優惠券)
  // prize = 3; (銘謝惠顧) 
  const prize = Math.floor(Math.random()*4);
  
  $(function(){  
    const bonus = $('#Modal-prize strong');
    const el1 = document.querySelector('#machine1');
    const el2 = document.querySelector('#machine2');
    const el3 = document.querySelector('#machine3');

    const onRandomize = (num)=>{
      const p = prize<3 ? prize : num ;
      return () => p;
    }
    const machine1 = new SlotMachine(el1, { active: 0, randomize:onRandomize(2) });
    const machine2 = new SlotMachine(el2, { active: 1, randomize:onRandomize(1) });
    const machine3 = new SlotMachine(el3, { active: 2, randomize:onRandomize(0) });

    $('#randomizeButton').one('click', ()=>{
      $('#randomizeButton').addClass('disabled');
      switch (prize) {
        case 0:
          bonus.html('50元');
          break;
        case 1:
          bonus.html('100元');
          break;
        case 2:
          bonus.html('200元');
          break;
      
        default:
          break;
      }

      machine1.shuffle(15);
      setTimeout(() => machine2.shuffle(15), 500);
      setTimeout(() => machine3.shuffle(15, (active) => {

        // 跳出中獎資訊
        if(prize<3){
          $('#Modal-prize').modal('show');
        }else{
          $('#Modal-prize-0').modal('show');
        }
      }), 1000);
    })
  })
  
</script>
</body>
</html>